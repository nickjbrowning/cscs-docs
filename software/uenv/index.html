
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://eth-cscs.github.io/software/uenv/">
      
      
        <link rel="prev" href="../devtools/nvidia-nsight/">
      
      
        <link rel="next" href="../container-engine/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>uenv - CSCS Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#uenv" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            

<p>
Work in progress.
</p>

<p>
The information found here is up to date but incomplete. Many pages are still empty or missing.
Please refer to <a href="https://docs.cscs.ch">docs.cscs.ch</a> for documentation missing from this site for the time being.
</p>


          </div>
          
        </aside>
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="CSCS Documentation" class="md-header__button md-logo" aria-label="CSCS Documentation" data-md-component="logo">
      
  <img src="../../assets/cscs-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CSCS Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              uenv
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="white" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/eth-cscs/cscs-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="CSCS Documentation" class="md-nav__button md-logo" aria-label="CSCS Documentation" data-md-component="logo">
      
  <img src="../../assets/cscs-logo.png" alt="logo">

    </a>
    CSCS Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/eth-cscs/cscs-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Welcome
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../alps/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Alps
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Alps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../alps/platforms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Platforms
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../alps/clusters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Clusters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../alps/hardware/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hardware
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../alps/storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Storage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../platforms/mlp/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Machine Learning Platform
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            Machine Learning Platform
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../clusters/clariden/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    clariden
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../clusters/bristen/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    bristen
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../platforms/hpcp/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    HPC Platform
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            HPC Platform
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../clusters/daint/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    daint
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../clusters/eiger/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    eiger
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../platforms/cwp/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Climate and Weather Platform
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            Climate and Weather Platform
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../clusters/santis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    santis
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../accounts/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Accounts and Projects
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Accounts and Projects
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../accounts/ump/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Account and Resources Management Tool
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../accounts/waldur/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project and Resources Management Tool
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../access/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Connecting to Alps
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Connecting to Alps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../access/mfa/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multi Factor Authentication (MFA)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../access/web/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Web Services
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../access/ssh/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SSH
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../access/vscode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VSCode
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Software
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Software
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../sciapps/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Scientific Applications
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Scientific Applications
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sciapps/cp2k/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CP2K
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sciapps/gromacs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GROMACS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sciapps/lammps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LAMMPS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sciapps/namd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NAMD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sciapps/quantumespresso/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quantum ESPRESSO
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sciapps/vasp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VASP
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../prgenv/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Programming Environments
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Programming Environments
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../prgenv/prgenv-gnu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    prgenv-gnu
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../prgenv/prgenv-nvfortran/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    prgenv-nvfortran
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../prgenv/linalg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    linalg
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../communication/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Communication Libraries
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            Communication Libraries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../communication/cray-mpich/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cray MPICH
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../communication/openmpi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OpenMPI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../communication/nccl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NCCL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../communication/rccl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RCCL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../communication/libfabric/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    libfabric
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../build-install/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Building and Installing software
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            Building and Installing software
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../build-install/uenv/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    uenv
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../build-install/containers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Containers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../build-install/cpe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cray Programming Environment (CPE)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../build-install/pip/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python with pip
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../devtools/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Debugging and Performance Analysis
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            Debugging and Performance Analysis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../devtools/linaro-uenv/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linaro uenv
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../devtools/linaro-map/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using Linaro performance analysis tool
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../devtools/linaro-ddt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using Linaro debugger
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../devtools/nvidia-nsight/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NVIDIA Nsight
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    uenv
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    uenv
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    <span class="md-ellipsis">
      Getting started
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uenv-labels" class="md-nav__link">
    <span class="md-ellipsis">
      uenv Labels
    </span>
  </a>
  
    <nav class="md-nav" aria-label="uenv Labels">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#name" class="md-nav__link">
    <span class="md-ellipsis">
      name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version" class="md-nav__link">
    <span class="md-ellipsis">
      version
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tag" class="md-nav__link">
    <span class="md-ellipsis">
      tag
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system" class="md-nav__link">
    <span class="md-ellipsis">
      system
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uarch" class="md-nav__link">
    <span class="md-ellipsis">
      uarch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-labels" class="md-nav__link">
    <span class="md-ellipsis">
      Using labels
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finding-uenv" class="md-nav__link">
    <span class="md-ellipsis">
      Finding uenv
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#downloading-uenv" class="md-nav__link">
    <span class="md-ellipsis">
      Downloading uenv
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Downloading uenv">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accessing-restricted-software" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing restricted software
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#starting-a-uenv-session" class="md-nav__link">
    <span class="md-ellipsis">
      Starting a uenv session
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Starting a uenv session">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#views" class="md-nav__link">
    <span class="md-ellipsis">
      Views
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spack" class="md-nav__link">
    <span class="md-ellipsis">
      Spack
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-a-uenv" class="md-nav__link">
    <span class="md-ellipsis">
      Running a uenv
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-uenv" class="md-nav__link">
    <span class="md-ellipsis">
      Building uenv
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#slurm-integration" class="md-nav__link">
    <span class="md-ellipsis">
      SLURM integration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-the-uenv-tool" class="md-nav__link">
    <span class="md-ellipsis">
      Installing the uenv tool
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../container-engine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Container Engine
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../services/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Services
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Services
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../services/firecrest/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FirecREST
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../services/cicd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CI/CD
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../running/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Running Jobs
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Running Jobs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../running/slurm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    slurm
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../storage/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Data Management and Storage
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Data Management and Storage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../storage/filesystems/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File Systems
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../storage/transfer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Transfer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../storage/longterm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Long Term Storage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../storage/object/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Object Storage
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../guides/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Guides
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9" id="__nav_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/internet-access/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Internet Access on Alps
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Storage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/terminal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using the terminal
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/gb2025/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gordon Bell 2025
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../policies/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Policies
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10" id="__nav_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Policies
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/regulations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    User Regulations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/code-of-conduct/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code of Conduct
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UserLab Support Policy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/slack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Slack Code of Conduct
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../contributing/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Contributing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    <span class="md-ellipsis">
      Getting started
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uenv-labels" class="md-nav__link">
    <span class="md-ellipsis">
      uenv Labels
    </span>
  </a>
  
    <nav class="md-nav" aria-label="uenv Labels">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#name" class="md-nav__link">
    <span class="md-ellipsis">
      name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version" class="md-nav__link">
    <span class="md-ellipsis">
      version
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tag" class="md-nav__link">
    <span class="md-ellipsis">
      tag
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system" class="md-nav__link">
    <span class="md-ellipsis">
      system
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uarch" class="md-nav__link">
    <span class="md-ellipsis">
      uarch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-labels" class="md-nav__link">
    <span class="md-ellipsis">
      Using labels
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finding-uenv" class="md-nav__link">
    <span class="md-ellipsis">
      Finding uenv
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#downloading-uenv" class="md-nav__link">
    <span class="md-ellipsis">
      Downloading uenv
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Downloading uenv">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accessing-restricted-software" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing restricted software
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#starting-a-uenv-session" class="md-nav__link">
    <span class="md-ellipsis">
      Starting a uenv session
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Starting a uenv session">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#views" class="md-nav__link">
    <span class="md-ellipsis">
      Views
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spack" class="md-nav__link">
    <span class="md-ellipsis">
      Spack
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-a-uenv" class="md-nav__link">
    <span class="md-ellipsis">
      Running a uenv
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-uenv" class="md-nav__link">
    <span class="md-ellipsis">
      Building uenv
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#slurm-integration" class="md-nav__link">
    <span class="md-ellipsis">
      SLURM integration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-the-uenv-tool" class="md-nav__link">
    <span class="md-ellipsis">
      Installing the uenv tool
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/eth-cscs/cscs-docs/edit/main/docs/software/uenv.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg>
    </a>
  
  


<p><a href="" id="ref-uenv"></a></p>
<h1 id="uenv">uenv<a class="headerlink" href="#uenv" title="Permanent link">&para;</a></h1>
<p>Uenv are user environments that provide scientific applications, libraries and tools.
This page will explain how to find, dowload and use uenv on the command line, and how to enable them in SLURM jobs.</p>
<p>Uenv are typically application-specific, domain-specific or tool-specific - each uenv contains only what is required for the application or tools that it provides.</p>
<p>Each uenv is packaged in a single file (in the <a href="https://docs.kernel.org/filesystems/squashfs.html">Squashfs</a> file format), that stores a compressed directory tree that contains all of the software, tools and other information like modules, required to provide a rich environment.</p>
<p>Each environment contains a software stack, comprised of compilers, libraries, tools and scientific applications - built using Spack.</p>
<div class="admonition warning">
<p class="admonition-title">uenv on Eiger and Balfrin</p>
<p>The uenv tool available on Eiger and Balfrin is a different version than the one described below. Some commands will be different.
Please refer to <code>uenv --help</code> for the correct usage.</p>
</div>
<h2 id="getting-started">Getting started<a class="headerlink" href="#getting-started" title="Permanent link">&para;</a></h2>
<p>After logging into an Alps cluster, you can quickly check the availability of uenv with the following commands:</p>
<div class="language-console highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">$ </span>uenv<span class="w"> </span>status
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">there is no uenv loaded</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="gp">$ </span>uenv<span class="w"> </span>--version
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="go">7.0.0</span>
</span></code></pre></div>
<h2 id="uenv-labels">uenv Labels<a class="headerlink" href="#uenv-labels" title="Permanent link">&para;</a></h2>
<p>Uenv are referred to using <strong>labels</strong>, where a label has the following form <code>name/version:tag@system%uarch</code>, for example <code>prgenv-gnu/24.11:v2@todi%gh200</code>.</p>
<h4 id="name"><code>name</code><a class="headerlink" href="#name" title="Permanent link">&para;</a></h4>
<p>the name of the uenv. In this case <code>prgenv-gnu</code>.</p>
<h4 id="version"><code>version</code><a class="headerlink" href="#version" title="Permanent link">&para;</a></h4>
<p>The version of the uenv. The format of <code>version</code> depends on the specific uenv.
Often they use the <code>yy.mm</code> format, though they may also use the version of the software being packaged.
For example the <code>namd/3.0.1</code> uenv packages version 3.0.1 of the popular <a href="https://www.ks.uiuc.edu/Research/namd/">NAMD</a> simulation tool.</p>
<h4 id="tag"><code>tag</code><a class="headerlink" href="#tag" title="Permanent link">&para;</a></h4>
<p>Used to differentiate between <em>releases</em> of a versioned uenv. Some examples of tags include:</p>
<ul>
<li><code>rc1</code>, <code>rc2</code>: release candidates.</li>
<li><code>v1</code>: a first release typically made after some release candidates.</li>
<li><code>v2</code>: a second release, that might fix issues in the first release.</li>
</ul>
<h4 id="system"><code>system</code><a class="headerlink" href="#system" title="Permanent link">&para;</a></h4>
<p>The name of the Alps cluster for which the uenv was built.</p>
<p><a href="" id="ref-uenv-label-uarch"></a></p>
<h4 id="uarch"><code>uarch</code><a class="headerlink" href="#uarch" title="Permanent link">&para;</a></h4>
<p>The node type (microarchitecture) that the uenv is built for:</p>
<table>
<thead>
<tr>
<th>uarch</th>
<th>CPU</th>
<th>GPU</th>
<th>comment</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="../../alps/hardware/#nvidia-gh200-gpu-nodes">gh200</a></td>
<td>4 72-core NVIDIA Grace (<code>aarch64</code>)</td>
<td>4 NVIDIA H100 GPUs</td>
<td></td>
</tr>
<tr>
<td><a href="../../alps/hardware/#amd-rome-cpu-nodes">zen2</a></td>
<td>2 64-core AMD Rome (<code>zen2</code>)</td>
<td>-</td>
<td>used in Eiger</td>
</tr>
<tr>
<td><a href="../../alps/hardware/#nvidia-a100-gpu-nodes">a100</a></td>
<td>1 64-core AMD Milan (<code>zen3</code>)</td>
<td>4 NVIDIA A100 GPUs</td>
<td></td>
</tr>
<tr>
<td><a href="../../alps/hardware/#amd-mi250x-gpu-nodes">mi200</a></td>
<td>1 64-core AMD Milan (<code>zen3</code>)</td>
<td>4 AMD Mi250x GPUs</td>
<td></td>
</tr>
<tr>
<td>zen3</td>
<td>2 64-core AMD Milan (<code>zen3</code>)</td>
<td>-</td>
<td>only in MCH system</td>
</tr>
</tbody>
</table>
<h3 id="using-labels">Using labels<a class="headerlink" href="#using-labels" title="Permanent link">&para;</a></h3>
<p>The uenv command line has a flexible interface for filtering uenv by providing only part of the full label:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># search for all uenv on the current system that have the name prgenv-gnu</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>uenv<span class="w"> </span>image<span class="w"> </span>find<span class="w"> </span>prgenv-gnu
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1"># search for all uenv with version 24.11</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>uenv<span class="w"> </span>image<span class="w"> </span>find<span class="w"> </span>/24.11
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="c1"># search for all uenv with tag v1</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>uenv<span class="w"> </span>image<span class="w"> </span>find<span class="w"> </span>:v1
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="c1"># search for a specific version</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>uenv<span class="w"> </span>image<span class="w"> </span>find<span class="w"> </span>prgenv-gnu/24.11:v1
</span></code></pre></div>
<p>By default, the <code>uenv</code> filters results to uenv that were built on the current cluster.
The name of the current cluster is always available via the <code>CLUSTER_NAME</code> environment variable.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># log into the eiger vCluster</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>ssh<span class="w"> </span>eiger
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="c1"># this command will search for all prgenv-gnu uenv on _eiger_</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>uenv<span class="w"> </span>image<span class="w"> </span>find<span class="w"> </span>prgenv-gnu
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="c1"># use @ to search on a specific system, e.g. on daint:</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>uenv<span class="w"> </span>image<span class="w"> </span>find<span class="w"> </span>prgenv-gnu@daint
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="c1"># this can be used to search for all uenv on daint:</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>uenv<span class="w"> </span>image<span class="w"> </span>find<span class="w"> </span>@daint
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="c1"># the &#39;*&#39; is a wildcard used meaning &quot;all systems&quot;</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="c1"># this will show all images on all systems</span>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="c1"># NOTE: the * character must be quoted in single quotes</span>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>uenv<span class="w"> </span>image<span class="w"> </span>find<span class="w"> </span>@<span class="s1">&#39;*&#39;</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="c1"># search for all images on Alps that were built for gh200 nodes.</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a>uenv<span class="w"> </span>image<span class="w"> </span>find<span class="w"> </span>@<span class="s1">&#39;*&#39;</span>%gh200
</span></code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The wild card <code>*</code> used for "all systems" must always be escaped in single quotes: <code>@'*'</code>.</p>
</div>
<h2 id="finding-uenv">Finding uenv<a class="headerlink" href="#finding-uenv" title="Permanent link">&para;</a></h2>
<p>Uenv for programming environments, tools and applications are provided by CSCS on each Alps system.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The same uenv are not installed on every system. Instead uenv that are supported for the users of that platform are provided.</p>
</div>
<p>The available uenv images are stored in a registry, that can be queried using the <code>uenv image find</code>  command:</p>
<div class="admonition example">
<p class="admonition-title">uenv image find</p>
<div class="language-console highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="gp">$ </span>uenv<span class="w"> </span>image<span class="w"> </span>find
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="go">uenv                       arch  system  id                size(MB)  date</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="go">cp2k/2024.1:v1             zen2  eiger   2a56f1df31a4c196   2,693    2024-07-01</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="go">cp2k/2024.2:v1             zen2  eiger   f83e95328d654c0f   2,739    2024-08-23</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="go">cp2k/2024.3:v1             zen2  eiger   7c7369b64b5fabe5   2,740    2024-09-18</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="go">editors/24.7:rc1           zen2  eiger   e5fb284962908eed   1,030    2024-07-18</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="go">editors/24.7:v2            zen2  eiger   4f0f2770616135b1   1,062    2024-09-04</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="go">julia/24.9:v1              zen2  eiger   0ff97a74dfcaa44e     539    2024-11-09</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="go">linalg/24.11:rc1           zen2  eiger   b69f4664bf0cd1c4     770    2024-11-20</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="go">linalg/24.11:v1            zen2  eiger   c11f6c85028abf5b     776    2024-12-03</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="go">linalg-complex/24.11:v1    zen2  eiger   846a04b4713d469b     792    2024-12-03</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="go">linaro-forge/24.0.2:v1     zen2  eiger   65734ce35494a5f5     313    2024-07-18</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="go">linaro-forge/24.1:v1       zen2  eiger   b65d7c85adfb317a     344    2024-11-27</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="go">netcdf-tools/2024:v1       zen2  eiger   e7e508c34cf40ccd   3,706    2024-11-14</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="go">prgenv-gnu/24.11:rc4       zen2  eiger   811469b00f030493     570    2024-11-21</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="go">prgenv-gnu/24.11:v1        zen2  eiger   0b6ab5fc4907bb38     572    2024-11-27</span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="go">prgenv-gnu/24.7:v1         zen2  eiger   7f68f4c8099de257     478    2024-07-01</span>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="go">quantumespresso/v7.3.1:v1  zen2  eiger   61d1f21881a65578     864    2024-11-08</span>
</span></code></pre></div>
</div>
<p>The output above shows that there are 12 uenv (<code>prgenv-gnu</code>, <code>namd</code> , <code>cp2k</code> and <code>arbor</code>).</p>
<h2 id="downloading-uenv">Downloading uenv<a class="headerlink" href="#downloading-uenv" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In order to pull uenv images, a local directory for storing the images must first be created,
otherwise you will receive an error message that the repository does not exist.</p>
<p>To create a repo in the default location, use the following command:</p>
<div class="language-bash highlight"><span class="filename">Create default uenv image repository</span><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>uenv<span class="w"> </span>repo<span class="w"> </span>create
</span></code></pre></div>
</div>
<p>To use a uenv, it first has to be pulled from the registry to local storage where you can access it.
For example, to use the <code>prgenv-gnu</code> uenv, use the uenv image pull command:</p>
<div class="admonition example">
<p class="admonition-title">uenv image pull</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1"># The following commands have the same effect</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="c1"># method 1: pull using the name of the uenv</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>uenv<span class="w"> </span>image<span class="w"> </span>pull<span class="w"> </span>prgenv-gnu/24.2:v1
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="c1"># method 2: pull using the id of the image</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>uenv<span class="w"> </span>image<span class="w"> </span>pull<span class="w"> </span>3ea1945046d884ee
</span></code></pre></div>
</div>
<p>Some images can be large, over 10 GB, and it can take a while to download them from the registry.</p>
<p>To view all uenv that have been pulled, and are ready to use use the <code>uenv image ls</code> command:</p>
<div class="admonition example">
<p class="admonition-title">listing downloaded uenv</p>
<div class="language-console highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="gp">$ </span>uenv<span class="w"> </span>image<span class="w"> </span>ls
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="go">uenv                           arch   system  id                size(MB)  date</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="go">editors/24.7:v2                gh200  daint   e7b0d930df729da5   1,270    2024-09-04</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="go">gromacs/2024:v1                gh200  daint   b58e6406810279d5   3,658    2024-09-12</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="go">julia/24.9:v1                  gh200  daint   7a4269abfdadc046   3,939    2024-11-09</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="go">linalg/24.11:v1                gh200  daint   e1640cf6aafdca01   4,461    2024-12-03</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="go">linaro-forge/23.1.2:v1         gh200  daint   fd67b726a90318d6     341    2024-08-26</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="go">namd/3.0:v3                    gh200  daint   49bc65c6905eb5da   4,028    2024-12-12</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="go">netcdf-tools/2024:v1           gh200  daint   2a799e99a12b7c13   1,260    2024-09-04</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="go">prgenv-gnu/24.11:v1            gh200  daint   b81fd6ba25e88782   4,191    2024-11-27</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="go">prgenv-gnu/24.7:v3             gh200  daint   b50ca0d101456970   3,859    2024-08-23</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="go">prgenv-nvfortran/24.11:v1      gh200  daint   d2afc254383cef20   8,703    2025-01-30</span>
</span></code></pre></div>
</div>
<h3 id="accessing-restricted-software">Accessing restricted software<a class="headerlink" href="#accessing-restricted-software" title="Permanent link">&para;</a></h3>
<p>By default, uenv can be pulled by all users on a system, with no restrictions.</p>
<p>Some uenv are not available to all users, for example the <code>vasp</code> images are only available for users with a <a class="autorefs autorefs-internal" href="../sciapps/vasp/#vasp">VASP</a> license, who are added to the <code>vasp</code> group once then have provided CSCS with a copy of their license.</p>
<p>To be able to pull such images a token that authorizes access must be provided.
Tokens are created by CSCS, and stored on SCRATCH in a file that only users who have access to the software can read.</p>
<div class="admonition example">
<p class="admonition-title">using a token to access VASP</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>uenv<span class="w"> </span>image<span class="w"> </span>pull<span class="w"> </span><span class="se">\</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">    </span>--token<span class="o">=</span>/capstor/scratch/cscs/bcumming/tokens/vasp6<span class="w"> </span><span class="se">\</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">    </span>--username<span class="o">=</span>vasp6<span class="w"> </span><span class="se">\</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">    </span>vasp/v6.4.3:v1
</span></code></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As of March 2025, the only restricted software is VASP.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Better token management is under development - tokens will be stored in a central location and will be easier to use.</p>
</div>
<p><a href="" id="ref-uenv-start"></a></p>
<h2 id="starting-a-uenv-session">Starting a uenv session<a class="headerlink" href="#starting-a-uenv-session" title="Permanent link">&para;</a></h2>
<p>The <code>uenv start</code> command will start a new shell with one or more uenv images mounted.
This is very useful for interactive sessions, for example if you want to work in the terminal to compile an application, or set up a Python virtual environment.</p>
<div class="admonition example">
<p class="admonition-title">start an interactive shell to compile an application</p>
<p>Here we want to compile an MPI + CUDA application "affinity".</p>
<div class="language-console highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="gp"># </span>start<span class="w"> </span>the<span class="w"> </span>prgenv-gnu<span class="w"> </span>uenv,<span class="w"> </span>which<span class="w"> </span>provides<span class="w"> </span>MPI,<span class="w"> </span>cuda<span class="w"> </span>and<span class="w"> </span>CMake
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="gp"># </span>use<span class="w"> </span>the<span class="w"> </span><span class="s2">&quot;default&quot;</span><span class="w"> </span>view,<span class="w"> </span>which<span class="w"> </span>will<span class="w"> </span>load<span class="w"> </span>all<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>software<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>uenv
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="gp">$ </span>uenv<span class="w"> </span>start<span class="w"> </span>prgenv-gnu/24.11:v1<span class="w"> </span>--view<span class="o">=</span>default
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="gp"># </span>clone<span class="w"> </span>the<span class="w"> </span>software<span class="w"> </span>and<span class="w"> </span><span class="nb">set</span><span class="w"> </span>up<span class="w"> </span>the<span class="w"> </span>build<span class="w"> </span>directory
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="gp">$ </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/bcumming/affinity.git
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="gp">$ </span>mkdir<span class="w"> </span>-p<span class="w"> </span>affinity/build
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>affinity/build/
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="gp"># </span>configure<span class="w"> </span>the<span class="w"> </span>build<span class="w"> </span>with<span class="w"> </span>CMake,<span class="w"> </span><span class="k">then</span><span class="w"> </span>call<span class="w"> </span>make<span class="w"> </span>to<span class="w"> </span>build
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="gp"># </span>mpicc,<span class="w"> </span>mpic++<span class="w"> </span>and<span class="w"> </span>cmake<span class="w"> </span>are<span class="w"> </span>all<span class="w"> </span>provided<span class="w"> </span>by<span class="w"> </span>the<span class="w"> </span>uenv
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="gp">$ </span><span class="nv">CXX</span><span class="o">=</span>mpic++<span class="w"> </span><span class="nv">CC</span><span class="o">=</span>mpicc<span class="w"> </span>cmake<span class="w"> </span>..
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="gp">$ </span>make<span class="w"> </span>-j
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="gp"># </span>run<span class="w"> </span>the<span class="w"> </span>affinity<span class="w"> </span>executable<span class="w"> </span>on<span class="w"> </span>two<span class="w"> </span>nodes<span class="w"> </span>-<span class="w"> </span>note<span class="w"> </span>how<span class="w"> </span>the<span class="w"> </span>uenv<span class="w"> </span>is
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="gp"># </span>automatically<span class="w"> </span>loaded<span class="w"> </span>by<span class="w"> </span>slurm<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>compute<span class="w"> </span>nodes,<span class="w"> </span>because<span class="w"> </span>CUDA<span class="w"> </span>and<span class="w"> </span>MPI<span class="w"> </span>from
</span><span id="__span-8-17"><a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="gp"># </span>the<span class="w"> </span>uenv<span class="w"> </span>are<span class="w"> </span>required<span class="w"> </span>to<span class="w"> </span>run.
</span><span id="__span-8-18"><a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a><span class="gp">$ </span>srun<span class="w"> </span>-n2<span class="w"> </span>-N2<span class="w"> </span>./affinity.cuda
</span><span id="__span-8-19"><a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a><span class="go">GPU affinity test for 2 MPI ranks</span>
</span><span id="__span-8-20"><a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a><span class="go">rank      0 @ nid005636</span>
</span><span id="__span-8-21"><a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a><span class="go"> cores   : 0-287</span>
</span><span id="__span-8-22"><a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a><span class="go"> gpu   0 : GPU-13a62579-bf3c-fb6b-667f-f2c588f4667b</span>
</span><span id="__span-8-23"><a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a><span class="go"> gpu   1 : GPU-74968c03-7401-9013-0590-8445b3623208</span>
</span><span id="__span-8-24"><a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a><span class="go"> gpu   2 : GPU-dfbd9ec1-a4b7-4a8d-603e-ebcc360f55a3</span>
</span><span id="__span-8-25"><a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a><span class="go"> gpu   3 : GPU-6a44522d-bf84-9864-decf-6d3e85078442</span>
</span><span id="__span-8-26"><a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a><span class="go">rank      1 @ nid006322</span>
</span><span id="__span-8-27"><a id="__codelineno-8-27" name="__codelineno-8-27" href="#__codelineno-8-27"></a><span class="go"> cores   : 0-287</span>
</span><span id="__span-8-28"><a id="__codelineno-8-28" name="__codelineno-8-28" href="#__codelineno-8-28"></a><span class="go"> gpu   0 : GPU-6d96b1d5-69e9-7bd4-f59a-a37ec1f5da1c</span>
</span><span id="__span-8-29"><a id="__codelineno-8-29" name="__codelineno-8-29" href="#__codelineno-8-29"></a><span class="go"> gpu   1 : GPU-c0508d69-a357-934e-87a0-be04adf4eee9</span>
</span><span id="__span-8-30"><a id="__codelineno-8-30" name="__codelineno-8-30" href="#__codelineno-8-30"></a><span class="go"> gpu   2 : GPU-02a7fd85-ff41-1d81-d010-d7a85f6134d8</span>
</span><span id="__span-8-31"><a id="__codelineno-8-31" name="__codelineno-8-31" href="#__codelineno-8-31"></a><span class="go"> gpu   3 : GPU-e07d996e-4d67-c9f4-cf75-81cfd45a1ae1</span>
</span><span id="__span-8-32"><a id="__codelineno-8-32" name="__codelineno-8-32" href="#__codelineno-8-32"></a>
</span><span id="__span-8-33"><a id="__codelineno-8-33" name="__codelineno-8-33" href="#__codelineno-8-33"></a><span class="gp"># </span>finish<span class="w"> </span>the<span class="w"> </span>uenv<span class="w"> </span>session
</span><span id="__span-8-34"><a id="__codelineno-8-34" name="__codelineno-8-34" href="#__codelineno-8-34"></a><span class="gp">$ </span><span class="nb">exit</span>
</span></code></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">which shell is used</p>
<p><code>uenv start</code> starts a new shell, and by default it will use the default shell for the user.
You can see the default shell by looking at the <code>$SHELL</code> environment variable.
If you want to force a different shell:
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nv">SHELL</span><span class="o">=</span><span class="sb">`</span>which<span class="w"> </span>zsh<span class="sb">`</span><span class="w"> </span>uenv<span class="w"> </span>start<span class="w"> </span>...
</span></code></pre></div></p>
</div>
<div class="admonition warning">
<p class="admonition-title">C Shell / tcsh users</p>
<p>uenv is tested extensively with bash (the default shell), and zsh. C shell is not tested properly, and we will not make significant changes to uenv to maintain support for C shell.</p>
<p>If your are one of the handful of users using <code>tcsh</code> (C shell) and you want to use uenv, we strongly recommend creating a request at the <a href="https://jira.cscs.ch/plugins/servlet/desk">CSCS service desk</a> to change to either bash or zsh as your default.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Failed to unshare the mount namespace</p>
<p>If you get the following error message when starting a uenv:
<div class="language-console highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="gp">$ </span>uenv<span class="w"> </span>start<span class="w"> </span>linalg/24.11:v1
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="go">squashfs-mount: Failed to unshare the mount namespace: Operation not permitted</span>
</span></code></pre></div>
you most likely already have a uenv mounted.
The <code>uenv status</code> command will report that you have a uenv loaded if that is the case:
<div class="language-console highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="gp">$ </span>uenv<span class="w"> </span>status
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="go">prgenv-gnu:/user-environment</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="go">  GNU Compiler toolchain with cray-mpich, Python, CMake and other development tools.</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="go">  views:</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="go">    spack: configure spack upstream</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="go">    modules: activate modules</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="go">    default:</span>
</span></code></pre></div>
Unload the active uenv by exiting the current shell before loading the new uenv.</p>
</div>
<p>The basic syntax of uenv start is <code>uenv start image</code> where <code>image</code> is the uenv to start.
The image can be a label, the hash/id of the uenv, or a file:</p>
<div class="admonition example">
<p class="admonition-title">uenv start</p>
<div class="language-console highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="gp"># </span>start<span class="w"> </span>the<span class="w"> </span>image<span class="w"> </span>using<span class="w"> </span>the<span class="w"> </span>name<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>uenv
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="gp">$ </span>uenv<span class="w"> </span>start<span class="w"> </span>netcdf-tools/2024:v1
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="gp"># </span>or<span class="w"> </span>use<span class="w"> </span>the<span class="w"> </span>unqique<span class="w"> </span>id<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>uenv
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="gp">$ </span>uenv<span class="w"> </span>start<span class="w"> </span>499c886f2947538e
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="gp"># </span>or<span class="w"> </span>provide<span class="w"> </span>the<span class="w"> </span>path<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>squashfs<span class="w"> </span>file
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="gp">$ </span>uenv<span class="w"> </span>start<span class="w"> </span><span class="nv">$SCRATCH</span>/my-uenv/gromacs.squashfs
</span></code></pre></div>
</div>
<details class="info">
<summary>what does 'uenv start' actually do?</summary>
<p>uenv are <a href="https://docs.kernel.org/filesystems/squashfs.html">squashfs images</a>, which are a compressed file that contains a directory tree.
The squashfs image of a uenv is a directory that contains all of the software provided by the uenv, along with useful meta data.
When you run <code>uenv start</code> (or <code>uenv run</code>, or use the <code>--uenv</code> flag with SLURM) the squashfs file is mounted at the mount location for the uenv, which is most often <code>/user-environment</code>.</p>
<div class="language-console highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="gp"># </span>log<span class="w"> </span>into<span class="w"> </span>daint
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="gp">$ </span>ssh<span class="w"> </span>daint.alps.cscs.ch
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="gp"># </span>/user-environment<span class="w"> </span>is<span class="w"> </span>empty
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="gp">$ </span>ls<span class="w"> </span>-l<span class="w"> </span>/user-environment
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="go">total 0</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="gp"># </span>start<span class="w"> </span>a<span class="w"> </span>uenv
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="gp">$ </span>uenv<span class="w"> </span>start<span class="w"> </span>prgenv-nvfortran/24.11:v1
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="gp"># </span>the<span class="w"> </span>uenv<span class="w"> </span>software<span class="w"> </span>is<span class="w"> </span>now<span class="w"> </span>available
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="gp">$ </span>ls<span class="w"> </span>/user-environment/
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a><span class="go">bin  config  env  linux-sles15-neoverse_v2  meta  modules  repo</span>
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a>
</span><span id="__span-13-15"><a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a><span class="gp"># </span>findmnt<span class="w"> </span>verifies<span class="w"> </span>that<span class="w"> </span>a<span class="w"> </span>squashfs<span class="w"> </span>image<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>mounted
</span><span id="__span-13-16"><a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a><span class="gp">$ </span>findmnt<span class="w"> </span>/user-environment
</span><span id="__span-13-17"><a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a><span class="go">TARGET            SOURCE      FSTYPE   OPTIONS</span>
</span><span id="__span-13-18"><a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a><span class="go">/user-environment /dev/loop25 squashfs ro,nosuid,nodev,relatime,errors=continue</span>
</span><span id="__span-13-19"><a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a>
</span><span id="__span-13-20"><a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a><span class="gp"># </span>end<span class="w"> </span>the<span class="w"> </span>session<span class="w"> </span>and<span class="w"> </span>verify<span class="w"> </span>that<span class="w"> </span>the<span class="w"> </span>uenv<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>longer<span class="w"> </span>mounted
</span><span id="__span-13-21"><a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a><span class="gp">$ </span><span class="nb">exit</span>
</span><span id="__span-13-22"><a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a><span class="gp">$ </span>ls<span class="w"> </span>-l<span class="w"> </span>/user-environment
</span><span id="__span-13-23"><a id="__codelineno-13-23" name="__codelineno-13-23" href="#__codelineno-13-23"></a><span class="go">total 0</span>
</span></code></pre></div>
<p>Loading an environment has no impact on other users or other terminal sessions that you have open on the same node – the mounted environment is only visible in your terminal.
This means that multiple users on a login node can mount their own environment at the same mount point, without interfering with one-another.</p>
</details>
<h3 id="views">Views<a class="headerlink" href="#views" title="Permanent link">&para;</a></h3>
<p>Running <code>uenv start $label</code> on its own will create a shell with the software at <code>/user-environment</code> or <code>/user-tools</code>, however no changes are made to environment variables like <code>$PATH</code>.</p>
<p>Uenv images provide <strong>views</strong>, which will set environment variables that load the software into your environment.
Views are loaded using the <code>--view</code> flag for <code>uenv start</code> (also for <code>uenv run</code> and the SLURM plugin, documented below)</p>
<div class="admonition example">
<p class="admonition-title">loading views</p>
<div class="language-console highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="gp"># </span>activate<span class="w"> </span>the<span class="w"> </span>view<span class="w"> </span>named<span class="w"> </span>default<span class="w"> </span><span class="k">in</span><span class="w"> </span>prgenv-gnu
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="gp">$ </span>uenv<span class="w"> </span>start<span class="w"> </span>--view<span class="o">=</span>default<span class="w"> </span>prgenv-gnu/24.11:v1
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="gp"># </span>activate<span class="w"> </span>both<span class="w"> </span>the<span class="w"> </span>spack<span class="w"> </span>and<span class="w"> </span>modules<span class="w"> </span>views<span class="w"> </span><span class="k">in</span><span class="w"> </span>prgenv-gnu<span class="w"> </span>using
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="gp"># </span>a<span class="w"> </span>comma-separated<span class="w"> </span>list<span class="w"> </span>of<span class="w"> </span>view<span class="w"> </span>names
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="gp">$ </span>uenv<span class="w"> </span>start<span class="w"> </span>--view<span class="o">=</span>spack,modules<span class="w"> </span>prgenv-gnu/24.11:v1
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="gp"># </span>when<span class="w"> </span>starting<span class="w"> </span>multiple<span class="w"> </span>uenv,<span class="w"> </span>you<span class="w"> </span>can<span class="w"> </span>disambiguate<span class="w"> </span>using<span class="w"> </span>uenvname:viewname
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="gp">$ </span>uenv<span class="w"> </span>start<span class="w"> </span>--view<span class="o">=</span>prgenv-gnu:default,editors:ed<span class="w"> </span>prgenv-gnu/24.11:v1,editors
</span></code></pre></div>
</div>
<h4 id="modules">Modules<a class="headerlink" href="#modules" title="Permanent link">&para;</a></h4>
<p>Most uenv provide the modules, that can be accessed using the <code>module</code> command.
By default, the modules are not activated when a uenv is started, and need to be explicitly activated using the <code>module</code> view.</p>
<div class="admonition example">
<p class="admonition-title">using the module view</p>
<div class="language-console highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="gp">$ </span>uenv<span class="w"> </span>start<span class="w"> </span>prgenv-gnu/24.11:v1<span class="w"> </span>--view<span class="o">=</span>modules
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="gp">$ </span>module<span class="w"> </span>avail
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="go">---------------------------- /user-environment/modules ----------------------------</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="go">   aws-ofi-nccl/git.v1.9.2-aws_1.9.2    lua/5.4.6</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="go">   boost/1.86.0                         lz4/1.10.0</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="go">   cmake/3.30.5                         meson/1.5.1</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="go">   cray-mpich/8.1.30                    nccl-tests/2.13.6</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="go">   cuda/12.6.2                          nccl/2.22.3-1</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="go">   fftw/3.3.10                          netlib-scalapack/2.2.0</span>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="go">   fmt/11.0.2                           ninja/1.12.1</span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="go">   gcc/13.3.0                           openblas/0.3.28</span>
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="go">   gsl/2.8                              osu-micro-benchmarks/5.9</span>
</span><span id="__span-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="go">   hdf5/1.14.5                          papi/7.1.0</span>
</span><span id="__span-15-14"><a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="go">   kokkos-kernels/4.4.01                python/3.12.5</span>
</span><span id="__span-15-15"><a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a><span class="go">   kokkos-tools/develop                 superlu/5.3.0</span>
</span><span id="__span-15-16"><a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a><span class="go">   kokkos/4.4.01                        zlib-ng/2.2.1</span>
</span><span id="__span-15-17"><a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a><span class="go">   libtree/3.1.1</span>
</span><span id="__span-15-18"><a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a><span class="gp">$ </span>module<span class="w"> </span>load<span class="w"> </span>cuda<span class="w"> </span>gcc<span class="w"> </span>cmake
</span><span id="__span-15-19"><a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a><span class="gp">$ </span>nvcc<span class="w"> </span>--version
</span><span id="__span-15-20"><a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a><span class="go">nvcc: NVIDIA (R) Cuda compiler driver</span>
</span><span id="__span-15-21"><a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a><span class="go">Cuda compilation tools, release 12.6, V12.6.77</span>
</span><span id="__span-15-22"><a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a><span class="gp">$ </span>gcc<span class="w"> </span>--version
</span><span id="__span-15-23"><a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a><span class="go">gcc (Spack GCC) 13.3.0</span>
</span><span id="__span-15-24"><a id="__codelineno-15-24" name="__codelineno-15-24" href="#__codelineno-15-24"></a><span class="gp">$ </span>cmake<span class="w"> </span>--version
</span><span id="__span-15-25"><a id="__codelineno-15-25" name="__codelineno-15-25" href="#__codelineno-15-25"></a><span class="go">cmake version 3.30.5</span>
</span></code></pre></div>
</div>
<h4 id="spack">Spack<a class="headerlink" href="#spack" title="Permanent link">&para;</a></h4>
<p>uenv images provide a full upstream Spack configuration to facilitate building your own software with Spack using the packages installed inside as dependencies.
No view needs to be loaded to use Spack, however all uenv provide a <code>spack</code> view that sets some environment variables that contain useful information like the location of the Spack configuration, and the version of Spack that was used to build the uenv.
For more information, see our guide on building software with <a class="autorefs autorefs-internal" title="Building software using Spack" href="../../build-install/uenv/#building-software-using-spack">Spack and uenv</a>.</p>
<p><a href="" id="ref-uenv-run"></a></p>
<h2 id="running-a-uenv">Running a uenv<a class="headerlink" href="#running-a-uenv" title="Permanent link">&para;</a></h2>
<p>The <code>uenv run</code> command can be used to run an application or script in a uenv environment, and return control to the calling shell when the command has finished running.</p>
<details class="info">
<summary>how is <code>uenv run</code> different from <code>uenv start</code>?</summary>
<p><code>uenv start</code> sets up the uenv environment, then starts an interactive shell in that environment.
When you are finished, you can type <code>exit</code> to finish the session.</p>
<p><code>uenv run</code> is more generic - instead of running a shell in environment, it takes the executable and arguments to run in the shell.
The following commands are equivalent:</p>
<div class="language-console highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="gp"># </span>start<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>bash<span class="w"> </span>shell<span class="w"> </span><span class="k">in</span><span class="w"> </span>prgenv-gnu
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="go">uenv start prgenv-gnu/24.11</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="gp"># </span>start<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>bash<span class="w"> </span>shell<span class="w"> </span><span class="k">in</span><span class="w"> </span>prgenv-gnu
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="go">uenv run prgenv-gnu/24.11 -- bash</span>
</span></code></pre></div>
</details>
<div class="admonition example">
<p class="admonition-title">running cmake</p>
<p>Call <code>cmake</code> to configure a build with the <code>default</code> view loaded
<div class="language-console highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="gp"># </span>run<span class="w"> </span>a<span class="w"> </span><span class="nb">command</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="gp">$ </span>uenv<span class="w"> </span>run<span class="w"> </span>prgenv-gnu/24.11:v1<span class="w"> </span>--view<span class="o">=</span>default<span class="w"> </span>--<span class="w"> </span>cmake<span class="w"> </span>-DUSE_GPU<span class="o">=</span>cuda<span class="w"> </span>..
</span></code></pre></div></p>
</div>
<div class="admonition example">
<p class="admonition-title">running an application executable</p>
<p>Run the GROMACS executable from inside the <code>gromacs</code> uenv.
<div class="language-console highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="gp"># </span>run<span class="w"> </span>an<span class="w"> </span>executable:
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="gp">$ </span>uenv<span class="w"> </span>run<span class="w"> </span>--view<span class="o">=</span>gromacs<span class="w"> </span>gromacs/2024:v1<span class="w"> </span>--<span class="w"> </span>gmx_mpi
</span></code></pre></div></p>
</div>
<div class="admonition example">
<p class="admonition-title">running applications with different environments</p>
<p><code>uenv run</code> is useful for running multiple applications or scripts in a pipeline or workflow, where each application has separate requirements.
In this example the pre and post processing stages use <code>prgenv-gnu</code>, while the simulation stage uses the <code>gromacs</code> uenv.
<div class="language-console highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="gp"># </span>run<span class="w"> </span>multiple<span class="w"> </span>applications,<span class="w"> </span>one<span class="w"> </span>after<span class="w"> </span>the<span class="w"> </span>other,<span class="w"> </span>that<span class="w"> </span>have<span class="w"> </span>different<span class="w"> </span>requirements
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="gp">$ </span>uenv<span class="w"> </span>run<span class="w"> </span>--view<span class="o">=</span>default<span class="w"> </span>prgenv-gnu/24.11:v1<span class="w"> </span>--<span class="w"> </span>./pre-processing-script.sh
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="gp">$ </span>uenv<span class="w"> </span>run<span class="w"> </span>--view<span class="o">=</span>gromacs<span class="w"> </span>gromacs/2024:v1<span class="w"> </span>--<span class="w"> </span>gmx_mpi<span class="w"> </span><span class="nv">$gromacs_args</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="gp">$ </span>uenv<span class="w"> </span>run<span class="w"> </span>--view<span class="o">=</span>default<span class="w"> </span>prgenv-gnu/24.11:v1<span class="w"> </span>--<span class="w"> </span>./post-processing-script.sh
</span></code></pre></div></p>
</div>
<h2 id="building-uenv">Building uenv<a class="headerlink" href="#building-uenv" title="Permanent link">&para;</a></h2>
<p>CSCS provides a build service for uenv that takes as its input a uenv recipe, and builds the uenv using the same pipeline used to build the officially supported uenv.</p>
<p>The command takes two arguments:</p>
<ul>
<li><code>recipe</code>: the path to the recipe<ul>
<li>A uenv recipe is a description of the software to build in the uenv.
  See the <a href="https://eth-cscs.github.io/stackinator/recipes/">stackinator documentation</a> for more information.</li>
</ul>
</li>
<li><code>label</code>: the label to attach, of the form <code>name/version@system%uarch</code> where:<ul>
<li><code>name</code> is the name, e.g. <code>prgenv-gnu</code>, <code>gromacs</code>, <code>vistools</code>.</li>
<li><code>version</code> is a version string, e.g. <code>24.11</code>, <code>v1.2</code>, <code>2025-rc2</code></li>
<li><code>system</code> is the CSCS cluster to build on (e.g. <code>daint</code>, <code>santis</code>, <code>clariden</code>, <code>eiger</code>)</li>
<li><code>uarch</code> is the <a class="autorefs autorefs-internal" title="uarch" href="#uarch">micro-architecture</a>.</li>
</ul>
</li>
</ul>
<div class="admonition example">
<p class="admonition-title">building a uenv</p>
<p>Call the 
<div class="language-text highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>uenv build $SCRATCH/recipes/myapp myapp/v3@daint%gh200
</span></code></pre></div></p>
<p>The image will be built on <code>daint</code>.
The build tool gives you a url to a status page, that shows the progress of the build.
After a successful build, the uenv can be pulled:
<div class="language-text highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>uenv image pull service::myapp/v3:1669479716
</span></code></pre></div></p>
<p>Note that the image is given a unique numeric tag, that you can find on the status page for the build.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>To use an existing uenv recipe as the starting point for a custom recipe, <code>uenv start</code> the uenv and take the contents of the <code>meta/recipe</code> path in the mounted image (this is the recipe that was used to build the uenv).</p>
</div>
<p>All uenv built by <code>uenv build</code> are pushed into the <code>service</code> namespace, where they <strong>can be accessed by all users logged in to CSCS</strong>.
This makes it easy to share your uenv with other users, by giving them the name, version and tag of the image.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>If, for whatever reason, your uenv can not be made publicly available, do not use the build service.</strong></p>
</div>
<div class="admonition example">
<p class="admonition-title">search user-built uenv</p>
<p>To view all of the uenv on daint that have been built by the service:
<div class="language-text highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>uenv image find service::@daint
</span></code></pre></div></p>
</div>
<p><a href="" id="ref-uenv-slurm"></a></p>
<h2 id="slurm-integration">SLURM integration<a class="headerlink" href="#slurm-integration" title="Permanent link">&para;</a></h2>
<p>The environment to load can be provided directly to SLURM via three arguments:</p>
<ul>
<li><code>--uenv</code>:  a comma-separated list of uenv to mount</li>
<li><code>--view</code>:  a comma-separated list of views to load</li>
<li><code>--repo</code>:  an alternative (if not set, the default repo in <code>$SCRATCH/.uenv-images</code> is used)</li>
</ul>
<p>For example, the flags can be used with srun :
<div class="language-text highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a># mount the uenv prgenv-gnu with the view named default
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>&gt; srun --uenv=prgenv-gnu/24.7:v3 --view=default ...
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a># mount an image at an explicit location (/user-tools)
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>&gt; srun --uenv=$IMAGES/myenv.squashfs:/user-tools ...
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a># mount multiple images: use a comma to separate the different options
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a>&gt; srun --uenv=prgenv-gnu/24.7:v3,editors/24.7:v2 --view=default,editors:modules ...
</span></code></pre></div></p>
<p>The commands can also be used in sbatch scripts to have fine-grained control:</p>
<div class="admonition example">
<p class="admonition-title">sbatch script for uenv</p>
<p>It is possible to provide a uenv that is loaded inside the script, and will be loaded by default by all srun commands that do not override it with their own <code>--uenv</code> parameters.
<div class="language-text highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>#!/bin/bash
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>#SBATCH --uenv=editors/24.7:v2
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>#SBATCH --view=editors:ed
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>#SBATCH --ntasks=4
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>#SBATCH --nodes=1
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a>#SBATCH --output=out-%j.out
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a>#SBATCH --error=out-%j.out
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a>echo &quot;==== test in script ====&quot;
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a># the fd command is provided by the ed view
</span><span id="__span-24-12"><a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a># use it to inspect the meta data in the mounted image
</span><span id="__span-24-13"><a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a>fd . /user-tools/meta/recipe
</span><span id="__span-24-14"><a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a>
</span><span id="__span-24-15"><a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a>echo &quot;==== test in srun ====&quot;
</span><span id="__span-24-16"><a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a># use srun to launch the parallel job
</span><span id="__span-24-17"><a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a>srun -n4 bash -c &#39;echo $SLURM_PROCID on $(hostname): $(which emacs)&#39;
</span><span id="__span-24-18"><a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a>
</span><span id="__span-24-19"><a id="__codelineno-24-19" name="__codelineno-24-19" href="#__codelineno-24-19"></a>echo &quot;==== alternative mount ====&quot;
</span><span id="__span-24-20"><a id="__codelineno-24-20" name="__codelineno-24-20" href="#__codelineno-24-20"></a>srun -n4 --uenv=prgenv-gnu --view=prgenv-gnu:default bash -c &#39;echo $SLURM_PROCID on $(hostname): $(which mpicc)&#39;
</span><span id="__span-24-21"><a id="__codelineno-24-21" name="__codelineno-24-21" href="#__codelineno-24-21"></a>sbatch output
</span></code></pre></div></p>
<p>The sbatch job above would generate output like the following:
<div class="language-text highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>==== test in script ====
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>/user-tools/meta/recipe/compilers.yaml
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>/user-tools/meta/recipe/config.yaml
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>/user-tools/meta/recipe/environments.yaml
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>/user-tools/meta/recipe/modules.yaml
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>==== test in srun ====
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a>1 on nid007144: /user-tools/env/ed/bin/emacs
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a>3 on nid007144: /user-tools/env/ed/bin/emacs
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a>0 on nid007144: /user-tools/env/ed/bin/emacs
</span><span id="__span-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a>2 on nid007144: /user-tools/env/ed/bin/emacs
</span><span id="__span-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a>==== alternative mount ====
</span><span id="__span-25-12"><a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a>0 on nid007144: /user-environment/env/default/bin/mpicc
</span><span id="__span-25-13"><a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a>1 on nid007144: /user-environment/env/default/bin/mpicc
</span><span id="__span-25-14"><a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a>2 on nid007144: /user-environment/env/default/bin/mpicc
</span><span id="__span-25-15"><a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a>3 on nid007144: /user-environment/env/default/bin/mpicc
</span></code></pre></div></p>
</div>
<p>In the example above, the <code>#SBATCH --uenv</code>  and <code>#SBATCH --view</code>  parameters in the preamble of the sbatch script set the default uenv to <code>editors</code> with the view <code>ed</code>.</p>
<ul>
<li><code>editors</code> is mounted and the view set in the script (the "test in script" part)</li>
<li><code>editors</code> is also mounted in the first call to srun (which does not provide a <code>`–-uenv</code> flag)</li>
</ul>
<p>it is possible to override the default uenv by passing a different <code>--uenv</code>  and <code>--view</code>  flags to an <code>srun</code>  call inside the script, as is done in the second <code>srun</code>  call.</p>
<ul>
<li>Note how the second call has access to <code>mpicc</code>, provided by <code>prgenv-gnu</code>.</li>
</ul>
<p><a href="" id="ref-uenv-installation"></a></p>
<h2 id="installing-the-uenv-tool">Installing the uenv tool<a class="headerlink" href="#installing-the-uenv-tool" title="Permanent link">&para;</a></h2>
<p>The command line tool can be installed from source, if you are working on a cluster that does not have uenv installed, or if you need to test a new version.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>uenv is installed already on CSCS clusters, so installation is not required.</p>
<p>Only follow these steps if you are advised to test out a new version (e.g. if it has a fix for an issues that you are encountering).</p>
</div>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/eth-cscs/uenv2.git
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="nb">cd</span><span class="w"> </span>uenv2
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>./install-alps-local.sh<span class="w"> </span><span class="c1"># (1)!</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="c1"># update bashrc</span>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;export PATH=\$HOME/.local/\$(uname -m)/bin:\$PATH&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span><span class="nv">$HOME</span>/.bashrc<span class="w"> </span>
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;unset -f uenv&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span><span class="nv">$HOME</span>/.bashrc
</span></code></pre></div>
<ol>
<li>Run installation script. This will install uenv in <code>$HOME/.local/$(uname -m)/bin/</code>.</li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Before uenv can be used, you need to log out then back in again and type <code>which uenv</code> to verify that uenv has been installed in your <code>$HOME</code> path.</p>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.action.edit", "navigation.indexes", "search.share", "navigation.instant", "navigation.tracking", "navigation.path", "navigation.top", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>